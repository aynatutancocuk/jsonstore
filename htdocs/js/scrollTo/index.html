<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<title>jQuery.ScrollTo</title>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
	<script type="text/javascript">
		jQuery(function( $ ){
			//borrowed from jQuery easing plugin
			//http://gsgd.co.uk/sandbox/jquery.easing.php
			$.easing.elasout = function(x, t, b, c, d) {
				var s=1.70158;var p=0;var a=c;
				if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;
				if (a < Math.abs(c)) { a=c; var s=p/4; }
				else var s = p/(2*Math.PI) * Math.asin (c/a);
				return a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;
			};
			
			/**
			 * Demo binding and preparation, no need to read this part
			 */
				$('ul.elements').each(function(){
					$(this).find('li').each(function(i){
						$(this).append('<p>'+i+'</p>').append('<a href="#" class="back">go back</a>');
					});
				});	
				$('a.back').click(function(){
					$(this).parents('div.pane').scrollTo( 0, 800, { queue:true } );
					return false;
				});
				//just for the example, to stop the click on the links.
				$('ul.links').click(function(e){
					e.preventDefault();
					e.target.blur();
				});
			
			//by default, the scroll is only done vertically ('y'), change it to both.
			$.scrollTo.defaults.axis = 'xy'; 			
			//this one is important, many browsers don't reset scroll on refreshes
			$('div.pane').scrollTo( 0 );//reset all scrollable panes to (0,0)
			$.scrollTo( 0 );//reset the screen to (0,0)
			
			//TOC, shows how to scroll the whole window
			$('#toc a').click(function(){//$.scrollTo works EXACTLY the same way, but scrolls the whole screen
				$.scrollTo( this.hash, 1500, { easing:'elasout' });
				return false;
			});
			
			//Target examples bindings
			var $paneTarget = $('#pane-target');			
			
			//just a shortcut, no need to read this
			function reset_t(){
				$paneTarget.stop();
				$('#target-message').text('');
			};
						
			$('#relative-selector').click(function(){
				reset_t(); $paneTarget.scrollTo( 'li:eq(14)', 800 );
			});
			$('#jquery-object').click(function(){
				var $target = $paneTarget.find('li:eq(3)');
				reset_t(); $paneTarget.scrollTo( $target , 800 );
			});
			$('#dom-element').click(function(){
				var target = $('#pane-target ul')[0].childNodes[20];
				reset_t(); $paneTarget.scrollTo( target, 800 );
			});
			$('#absolute-number').click(function(){
				reset_t(); $paneTarget.scrollTo( 150, 800 );
			});
			$('#absolute-number-hash').click(function(){
				reset_t(); $paneTarget.scrollTo( { top:800,left:700} , 800 );
			});
			$('#absolute-position').click(function(){
				reset_t(); $paneTarget.scrollTo( '520px', 800 );
			});
			$('#absolute-position-hash').click(function(){
				reset_t(); $paneTarget.scrollTo( {top:'110px',left:'290px'}, 800 );
			});
			$('#relative-position').click(function(){
				reset_t(); $paneTarget.scrollTo( '+=100px', 500 );
				$('#target-message').text('Try clicking this one, many times');
			});
			$('#relative-position-hash').click(function(){				
				reset_t(); $paneTarget.scrollTo( {top:'-=100px',left:'+=100px'}, 500 );
				$('#target-message').text('Try clicking this one, many times');
			});
			
			//options examples bindings, they will all scroll to the same place, with different options
			function reset_o(){//before each animation, reset to (0,0), skip this.
				$paneOptions.stop().stop();
				$paneOptions[0].scrollLeft = $paneOptions[0].scrollTop = 0;
				$('#options-message').text('We are always scrolling, to the 15th element.');
			};
			var $paneOptions = $('#pane-options');
			
			$('#options-no').click(function(){
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 1000 );
			});
			$('#options-axis').click(function(){//only scroll horizontally
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 1000, { axis:'x' } );
			});
			$('#options-duration').click(function(){//it's the same as specifying it in the 2nd argument
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', { duration: 3000 } );
			});
			$('#options-easing').click(function(){
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 2500, { easing:'elasout' } );
			});
			$('#options-margin').click(function(){//scroll to the "outer" position of the element
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 1000, { margin:true } );
			});
			$('#options-offset').click(function(){//same as { top:-50, left:-50 }
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 1000, { offset:-50 } );
			});
			$('#options-offset-hash').click(function(){
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 1000, { offset:{ top:-5,left:-30 } });
			});
			$('#options-queue').click(function(){//in this case, having 'axis' as 'xy' or 'yx' matters.
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 1600, { queue:true });
			});
			$('#options-onAfter').click(function(){
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 1600, { 
					onAfter:function(){
						$('#options-message').text('Got there!');
					}
				});
			});
			$('#options-onAfterFirst').click(function(){//onAfterFirst exists only when queuing
				reset_o(); $paneOptions.scrollTo( 'li:eq(15)', 1600, { 
					queue:true,
					onAfterFirst:function(){
						$('#options-message').text('Got there horizontally!');
					},
					onAfter:function(){
						$('#options-message').text('Got there vertically!');
					}
				});
			});
		});
	</script>
	<style type="text/css">
		body{
			padding:5px;
			height:1600px;
			background:#EEE;
		}
		ul,li,h1,h2,h3,p{
			list-style:none;
			padding:0;
			margin:0;
		}
		#toc, #links{
			border:1px solid black;
			display:block;
			padding:10px;
			position:relative;
			margin:15px 0;
		}
		#toc{
			float:left;
			width:235px;
		}
		#links{
			float:left;
			left:578px;
			width:115px;
			margin-top:-5px;
		}
			#toc li, #links li{
				list-style-type:circle;
				padding-left:5px;
				margin-left:15px;
			}
		div.section{
			border:1px black solid;
			width:950px;
			padding:10px;
			margin: 5px 0;
			position:relative;
			clear:both;
		}
			div.section li{
				float:left;
			}
			div.pane{
				overflow:auto;
				clear:left;
				margin: 10px 0 0 10px;
				position:relative;
				width:826px;
				height:322px;
			}
		ul.elements{
			background-color:black;
		}
			ul.elements li{
				width:200px;
				height:100px;
				font-weight:bolder;
				border:1px black solid;
				text-align:center;
				padding:50px;
				position:relative;
				background-color:beige;
			}
				ul.elements li a{
					position:absolute;
					bottom:20px;
					left:125px;
					color:darkgreen;
				}
			#pane-options ul.elements li{
				margin:5px;
			}
		h3{
			margin-bottom:5px;
		}
		ul.links{
			height:20px;
		}
			ul.links a{
				color:teal;
				margin:0pt 7px;
			}
		.clear{
			clear:left;
		}
		.message{
			position:absolute;
			color:tomato;
		}
		
		strong{
			font-size:13px;
		}
		</style>
</head>
<body>
	<h1>jQuery.ScrollTo&nbsp;<strong>by Ariel Flesler</strong></h1>
	
	<div id="toc">
		<h3>Table of contents&nbsp;<strong>(click on them)</strong></h3>
		<ul>
			<li><a href="#target-examples">Ways to specify the target</a></li>
			<li><a href="#options-examples">Options</a></li>
		</ul>
	</div>
	
	<div id="links">
		<h3>Links</h3>
		<ul>
			<li><a target="_blank" href="http://plugins.jquery.com/project/ScrollTo">Project Page</a></li>
			<li><a target="_blank" href="http://flesler.blogspot.com/search/label/jQuery.ScrollTo">Blog articles</a></li>
			<li><a target="_blank" href="index.old.html">Old Demo</a></li>
		</ul>
	</div>
	
	<div id="target-examples" class="horizontal section">
		<h3>Ways to specify the target</h3><span id="target-message" class="message" style="left:228px;top:11px;"></span>
		<ul class="links">
			<li><a id="relative-selector" href="#">Relative selector</a></li>
			<li><a id="jquery-object" href="#">jQuery object</a></li>
			<li><a id="dom-element" href="#">DOM Element</a></li>
			<li><a id="absolute-number" href="#">Absolute number</a></li>
			<li><a id="absolute-number-hash" href="#">Absolute number(hash)</a></li>
		</ul>
		<ul class="links">
			<li><a id="absolute-position" href="#">Absolute position</a></li>
			<li><a id="absolute-position-hash" href="#">Absolute position(hash)</a></li>
			<li><a id="relative-position" href="#">Relative position</a></li>
			<li><a id="relative-position-hash" href="#">Relative position(hash)</a></li>
		</ul>
		<div id="pane-target" class="pane">
			<ul class="elements" style="height:1011px; width:1820px;">
				<li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li />
			</ul>
		</div>
	</div>
	<div id="options-examples" class="section">
		<h3>Options</h3><span id="options-message" class="message" style="left:85px;top:12px;"></span>
		<ul class="links">
			<li><a id="options-no" href="#">with no options</a></li>
			<li><a id="options-axis" href="#">axis</a></li>
			<li><a id="options-duration" href="#">duration</a></li>
			<li><a id="options-easing" href="#">easing</a></li>
			<li><a id="options-margin" href="#">margin</a></li>
			<li><a id="options-offset" href="#">offset</a></li>
			<li><a id="options-offset-hash" href="#">offset(hash)</a></li>
			<li><a id="options-queue" href="#">queue</a></li>
			<li><a id="options-onAfter" href="#">onAfter</a></li>
			<li><a id="options-onAfterFirst" href="#">onAfterFirst</a></li>
		</ul>
		<div id="pane-options" class="pane">
			<ul class="elements" style="height:1062px;width:1877px;">
				<li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li /><li />
			</ul>
		</div>
	</div>
</body>
</html>
